<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Loanratus Admin</title>
    <meta name="description" content="Loanratus Admin">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="apple-icon.png">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="assets/css/normalize.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/flag-icon.min.css">
    <link rel="stylesheet" href="assets/css/cs-skin-elastic.css">
    <!-- <link rel="stylesheet" href="assets/css/bootstrap-select.less"> -->
    <link rel="stylesheet" href="assets/scss/style.css">
    <link rel="stylesheet" href="assets/css/lib/chosen/chosen.min.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">


    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="assets/js/vendor/jquery-2.1.4.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script> -->

    <script>
        $(function () {
            // when the modal is closed
            $('#myModal').on('hidden.bs.modal', function () {
                // remove the bs.modal data attribute from it
                $(this).removeData('bs.modal');
                // and empty the modal-content element
                $('#myModal .modal-content span').empty();
                $('#myModal .modal-footer span').empty();
                $('#myModal input').val("");
            });
        });
    </script>
</head>
<body>
<!-- Left Panel -->
<script src="assets/js/vendor/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function($){ check(); loadMenus(); read_write();});
</script>

<style>
    #regForm {
        background-color: rgba(255, 255, 255, 0.44);
        /*margin: 100px auto;*/
        padding: 20px;
        /*width: 70%;*/
        /*!*min-width: 300px;*!*/
    }

    /* Hide all steps by default: */
    .tab {
        display: none;
    }

    /* Make circles that indicate the steps of the form: */
    .step {
        height: 15px;
        width: 15px;
        margin: 0 2px;
        background-color: #bbbbbb;
        border: none;
        border-radius: 50%;
        display: inline-block;
        opacity: 0.5;
    }

    /* Mark the active step: */
    .step.active {
        opacity: 1;
    }

    /* Mark the steps that are finished and valid: */
    .step.finish {
        background-color: #4CAF50;
    }
</style>

<aside id="left-panel" class="left-panel">
    <nav class="navbar navbar-expand-sm navbar-default">

        <div class="navbar-header">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa fa-bars"></i>
            </button>
            <a class="navbar-brand" href="/dashboard">Loanratus</a>
            <a class="navbar-brand hidden" href="/dashboard">35</a>
        </div>

        <div id="main-menu" class="main-menu collapse navbar-collapse">
            <ul id="sidebar" class="nav navbar-nav"></ul>
        </div>
    </nav>
</aside><!-- /#left-panel -->

<!-- Left Panel -->

<!-- Right Panel -->

<div id="right-panel" class="right-panel">

    <!-- Header-->
    <header id="header" class="header">

        <div class="header-menu">

            <div class="col-sm-7">
                <a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-tasks"></i></a>
                <div class="header-left">
                </div>
            </div>

            <div class="col-sm-5">
                <div class="user-area dropdown float-right">
                    <strong id="user" style="margin-right:10px; vertical-align: sub"></strong>
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img class="user-avatar rounded-circle" src="images/admin.jpg" alt="User Avatar">
                    </a>

                    <div class="user-menu dropdown-menu">
                        <a class="nav-link pull-right" href="#" onclick="logout()"><i class="fa fa-power-off"></i> Logout</a>
                        <script type="text/javascript">
                            function logout() {
                                localStorage.login = "0";
                                window.location.href = "/logout";
                            }
                        </script>
                    </div>
                </div>
            </div>
        </div>

    </header><!-- /header -->
    <!-- Header-->

    <div class="breadcrumbs">
        <div class="col-sm-4">
            <div class="page-header float-left">
                <div class="page-title">
                    <h1>Add New Client</h1>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="page-header float-right">
                <div class="page-title">
                    <ol class="breadcrumb text-right">
                        <li><a href="#">Dashboard</a></li>
                        <li><a href="#">Clients</a></li>
                        <li class="active">New Client</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <div class="content mt-3">
        <div class="animated fadeIn">

            <div class="row">

                <div id="user-form" class="col-xs-12 col-sm-12">
                    <div class="card">
                        <div class="card-header">
                            <strong id="new_edit">Add Client Data</strong> <small id="def_name"> Client Information</small>
                        </div>
                        <div class="card-body card-block">
                            <div id="regForm" action="user/new-client" method="post">

                                <!-- One "tab" for each step in the form: -->
                                <div class="tab">
                                    <div class="panel push-down">
                                        <div class="panel-body">
                                            <div class="example-box-wrapper">
                                                <h3>Personal Information</h3> <span class="text-danger"> Required (*)</span><hr>


                                                <div class="row">
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">First Name<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="text" id="first_name" class="form-control imp" placeholder="Enter first name" tabindex="1" required="" >
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Middle Name</label>
                                                        <div class="input-group">
                                                            <input type="text" id="middle_name" class="form-control" placeholder="Enter middle name">
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Last Name<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="text" id="last_name" class="form-control imp" placeholder="Enter last name" required="">

                                                            <!-- ngIf: idForm.last_name.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Gender</label>
                                                        <!--<div style="border-radius: 4px; border-color: #9fcdff">-->
                                                            <!--<div class="col-md-4">-->
                                                                <!--<div>-->
                                                                    <!--<label class="control r control&#45;&#45;radio">-->
                                                                        <!--<input type="radio" id="male" name="gender" value="Male" required="">&nbsp; Male-->
                                                                        <!--<div class="control__indicator"></div>-->
                                                                    <!--</label>-->
                                                                <!--</div>-->
                                                            <!--</div>-->
                                                            <!--<div class="col-md-5">-->
                                                                <!--<div>-->
                                                                    <!--<label class="control r control&#45;&#45;radio">-->
                                                                        <!--<input type="radio" id="female" name="gender" value="Female" >&nbsp; Female-->
                                                                        <!--<div class="control__indicator"></div>-->
                                                                    <!--</label>-->
                                                                <!--</div>-->
                                                            <!--</div>-->
                                                        <!--</div>-->
                                                        <div class="input-group">

                                                            <select class="form-control" id="gender">
                                                                <option value=""> -- Choose Gender -- </option>
                                                                <option id="Male" value="Male">Male</option>
                                                                <option id="Female" value="Female">Female</option>
                                                            </select>

                                                            <!-- ngIf: idForm.marital_status.$dirty -->
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Date of Birth</label>
                                                        <div class="input-group">
                                                            <div class="input-group">
                                                                <input type="date" class="form-control" id="dob" placeholder="yyyy/MM/dd" required="required">

                                                            </div>
                                                            <!-- ngIf: idForm.dob.$dirty -->
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Marital Status</label>
                                                        <!--  -->
                                                        <div class="input-group">

                                                            <select class="form-control" id="marital_status">
                                                                <option id="0" value="0">Please select a status</option>
                                                                <option id="Single" value="single">Single</option>
                                                                <option id="Married" value="married">Married</option>
                                                                <option id="Divorced" value="divorced">Divorced</option>
                                                                <option id="Other" value="other">Other</option>
                                                            </select>

                                                            <!-- ngIf: idForm.marital_status.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Loan Officer<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <select id="loan_officer" class="form-control" tabindex="5.2" >
                                                            </select>
                                                            <!-- ngIf: idForm.user.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Branch<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <select id="branch" class="form-control" tabindex="5.2" >
                                                                <!--<option id="0"> &#45;&#45; Select a branch &#45;&#45;</option>-->
                                                                <!--<option id="Lagos">Lagos</option>-->
                                                                <!--<option id="Abuja">Abuja</option>-->
                                                                <!--<option id="PH">Port - Harcourt</option>-->
                                                            </select>
                                                            <!-- ngIf: idForm.user.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel push-down">
                                        <div class="panel-body">

                                            <div class="example-box-wrapper">
                                                <h3>Contact Information</h3><hr><br>
                                                <div class="row">

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Email Address <span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="email" id="email" class="form-control imp" placeholder="Enter email" required="">
                                                            <!-- ngIf: idForm.email.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Phone Number <span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="number" id="phone" class="form-control imp" placeholder="555-555-5555" >
                                                            <!-- ngIf: idForm.home_phone.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Address</label>
                                                        <div class="input-group">
                                                            <textarea type="text" id="address" class="form-control"  placeholder="Home Address" maxlength="250"></textarea>
                                                            <!-- ngIf: idForm.home_phone.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">State </label>
                                                        <div class="input-group">
                                                            <select class="form-control" id="client_state">
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Postal Code</label>
                                                        <div class="input-group">
                                                            <input type="text" id="postcode" class="form-control" placeholder="" >
                                                            <!-- ngIf: idForm.home_phone.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Country</label>
                                                        <div class="input-group">
                                                            <select id="client_country" class="form-control" required="" >
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">

                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Years at Address </label>
                                                        <div class="input-group">
                                                            <input type="number" id="years_add" class="form-control"placeholder="Number of Years" required="">
                                                            <!-- ngIf: idForm.email.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-4 col-md-4">
                                                        <label class="form-control-label">Ownership</label>
                                                        <div class="input-group">
                                                            <select class="form-control" tabindex="7" required="" id="ownership">
                                                                <option value="null" id="0">Please select one</option>
                                                                <option id="1" value="family-home">Family Home</option>
                                                                <option id="2" value="lease">Lease</option>
                                                                <option id="3" value="owner">Owner</option>
                                                                <option id="4" value="rent">Rent</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel push-down">
                                        <div class="panel-body">

                                            <div class="example-box-wrapper">
                                                <h3>Uploads</h3><hr><br>
                                                <div class="row">
                                                    <div class="form-group col-sm-4">
                                                        <!-- <label class="col-sm-3 control-label">Upload Customer Image</label> -->

                                                        <!-- <input type="file" name="customer_image" class="form-control" tabindex="6"> -->
                                                        <div class="form-control">
                                                            <label for="file-upload" class="custom-file-upload">
                                                                <i class="fa fa-cloud-upload"></i> Upload Customer Image
                                                            </label>
                                                            <input id="file-upload" class="image admin-img" type="file" tabindex="6">
                                                            <label id="path"></label><br>
                                                            <small><strong>Image must be JPG/JPEG or PNG format, maximum 2MB</strong></small>

                                                        </div>
                                                        <div class="form-control pull-right" style="border-color: transparent">
                                                            <button class="btn btn-primary pull-right write" onclick="upload(1)">Upload Image</button>
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-4">
                                                        <!-- <label class="col-sm-3 control-label">Upload Customer Signature</label> -->

                                                        <div class="form-control">
                                                            <!-- <input type="file" name="cust_signature_image" class="form-control" tabindex="7"> -->

                                                            <label for="file-upload-signature" class="custom-file-upload">
                                                                <i class="fa fa-cloud-upload"></i> Upload ID Card
                                                            </label>
                                                            <input id="file-upload-idcard" class="image admin-img" type="file" tabindex="7">
                                                            <label id="path-idcard"></label><br>
                                                            <small><strong>Image must be JPG/JPEG or PNG format, maximum 2MB</strong></small>

                                                        </div>
                                                        <div class="form-control pull-right" style="border-color: transparent">
                                                            <button class="btn btn-primary pull-right write" onclick="upload(3)">Upload ID Card</button>
                                                        </div>

                                                    </div>

                                                    <div class="form-group col-sm-4">
                                                        <!-- <label class="col-sm-3 control-label">Upload Customer Signature</label> -->

                                                        <div class="form-control">
                                                            <!-- <input type="file" name="cust_signature_image" class="form-control" tabindex="7"> -->

                                                            <label for="file-upload-signature" class="custom-file-upload">
                                                                <i class="fa fa-cloud-upload"></i> Upload Signature
                                                            </label>
                                                            <input id="file-upload-signature" class="image admin-img" type="file" tabindex="7">
                                                            <label id="path-signature"></label><br>
                                                            <small><strong>Image must be JPG/JPEG or PNG format, maximum 2MB</strong></small>

                                                        </div>
                                                        <div class="form-control pull-right" style="border-color: transparent">
                                                            <button class="btn btn-primary pull-right write" onclick="upload(2)">Upload Signature</button>
                                                        </div>

                                                    </div>
                                                </div>
                                                <hr>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab">:
                                    <div class="panel push-down">
                                        <div class="panel-body">
                                            <div class="example-box-wrapper">
                                                <h3>Employment Information</h3> <hr>


                                                <div class="row">

                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Employer Name</label>
                                                        <div class="input-group">
                                                            <input type="text" id="employer_name" class="form-control" placeholder="Enter Employer name">
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Industry</label>
                                                        <div class="input-group">
                                                            <select class="form-control" id="industry" name="industry" >
                                                                <option selected="selected" disabled="disabled" hidden="hidden" value="">Please select an industry</option>
                                                                <option value="accounts-banking--finance">Accounts, Banking &amp; Finance</option>
                                                                <option value="administration">Administration</option>
                                                                <option value="agriculture">Agriculture</option>
                                                                <option value="automotive">Automotive</option
                                                                ><option value="beauty">Beauty</option>
                                                                <option value="construction">Construction</option>
                                                                <option value="creative-arts">Creative Arts</option>
                                                                <option value="customer-service">Customer Service</option>
                                                                <option value="energy">Energy</option>
                                                                <option value="engineering--utilities">Engineering &amp; Utilities</option>
                                                                <option value="environmental">Environmental</option>
                                                                <option value="general-management">General Management</option>
                                                                <option value="hospitality--tourism">Hospitality &amp; Tourism</option>
                                                                <option value="human-resources">Human Resources</option>
                                                                <option value="insurance">Insurance</option>
                                                                <option value="information-technology">Information Technology</option>
                                                                <option value="legal">Legal</option>
                                                                <option value="marine">Marine</option>
                                                                <option value="marketing">Marketing</option>
                                                                <option value="medical-professionals">Medical Professionals</option>
                                                                <option value="mining">Mining</option>
                                                                <option value="production--manufacturing">Production &amp; Manufacturing</option>
                                                                <option value="project-management">Project Management</option>
                                                                <option value="public-sector">Public Sector</option>
                                                                <option value="media">Media</option>
                                                                <option value="retailing">Retailing</option>
                                                                <option value="sales">Sales</option>
                                                                <option value="pharmaceutical">Pharmaceutical</option>
                                                                <option value="security">Security</option>
                                                                <option value="social-work">Social Work</option>
                                                                <option value="sports">Sports</option>
                                                                <option value="telecommunication">Telecommunication</option>
                                                                <option value="transport">Transport</option>
                                                                <option value="waste-management">Waste Management</option>
                                                                <option value="bearer">Bearer</option>
                                                                <option value="chicken-farmer">Chicken Farmer</option>
                                                                <option value="adv-consultant">Adv Consultant</option>
                                                                <option value="merchandizer">Merchandizer</option>
                                                                <option value="security-guard">security guard</option>
                                                                <option value="custom-framer">Custom Framer</option>
                                                                <option value="registered-nurse">Registered Nurse</option>
                                                                <option value="sales-and-distribution">Sales and Distribution</option>
                                                                <option value="teacher">Teacher</option>
                                                                <option value="financial-institution">Financial Institution</option>
                                                                <option value="law-firm">Law Firm</option>
                                                                <option value="merchandiser">Merchandiser</option>
                                                                <option value="banker">Banker</option>
                                                                <option value="banking">Banking</option>
                                                                <option value="retail">Retail</option>
                                                                <option value="cooking-gas-provider">cooking Gas provider</option>
                                                                <option value="internal-security">Internal Security</option>
                                                                <option value="market-department">Market Department</option>
                                                                <option value="radio-station">Radio Station</option>
                                                                <option value="distribution">Distribution</option>
                                                                <option value="store">Store</option>
                                                                <option value="meat-shop">meat shop</option><option value="stationary-solutions--more">Stationary Solutions &amp; More</option><option value="accounts-receivablebilling-clerk">Accounts receivable/billing clerk</option><option value="auto-body">AUTO BODY</option><option value="customer-service-rep">Customer Service Rep</option><option value="embroidery">Embroidery</option><option value="industrial">Industrial</option><option value="office-attendant">Office Attendant</option><option value="domestic-work">Domestic Work</option><option value="operations-manager">Operations Manager</option><option value="executive-assistant">Executive Assistant</option><option value="juicy-patty">Juicy Patty</option><option value="investments">Investments</option><option value="monitoring-agent">Monitoring Agent</option><option value="dress-making">Dress Making</option><option value="fast-food-restaurant">Fast Food Restaurant</option><option value="high-school">High School</option><option value="marketing-assistant">marketing assistant</option><option value="basic-school">Basic School</option><option value="vice-president">Vice President</option><option value="postman-for-the-mona-branch">Postman for the Mona branch</option><option value="advertising-consultant">Advertising Consultant</option><option value="social-media-executive-merchant-loyalty-programme-marketing-officer">Social Media Executive/ Merchant Loyalty Programme Marketing Officer</option><option value="supervisor">Supervisor</option><option value="early-childhood-practitioner">Early childhood practitioner</option><option value="bank">Bank</option><option value="ramp-attendant">Ramp Attendant</option><option value="soldier">Soldier</option><option value="bar">Bar</option><option value="mobile-wallet">Mobile Wallet</option><option value="janitor">Janitor</option><option value="policy--advocacy-officer">Policy &amp; Advocacy Officer</option><option value="hoteljnr-ue-chef">hotel/jnr Ue chef</option><option value="consultant">Consultant</option><option value="bank-teller">Bank Teller</option><option value="insurancefinancial-adviser">Insurance/Financial Adviser</option><option value="accounting-clerck">Accounting Clerck</option><option value="admin-assistant">Admin Assistant</option><option value="cashier-sales-rep">Cashier/ Sales rep</option><option value="primary-school">Primary school</option><option value="registration-clerk">Registration Clerk</option><option value="record-officer">Record Officer</option><option value="receptionist">Receptionist</option><option value="relief-tennis-pro">RELIEF TENNIS PRO</option><option value="senior-sales-executive">Senior Sales Executive</option><option value="call-center">Call Center</option><option value="bag-juice">Bag Juice</option><option value="garage">Garage</option><option value="pharmacy">Pharmacy</option><option value="printing">Printing</option><option value="water-delivery">Water Delivery</option><option value="interior-design">Interior Design</option><option value="events-planningmarketing-and-project-management">Events Planning/Marketing and Project management.</option><option value="accounts-banking-finance">Accounts, Banking &amp; Finance</option><option value="education">Education</option><option value="engineering-utilities">Engineering &amp; Utilities</option><option value="hospitality-tourism">Hospitality &amp; Tourism</option><option value="production-manufacturing">Production &amp; Manufacturing</option><option value="real-estate">Real Estate</option><option value="travel">Travel</option><option value="other">Other</option></select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Job Title</label>
                                                        <div class="input-group">
                                                            <input type="text" id="job" class="form-control" placeholder="Enter Job Title" required="">

                                                            <!-- ngIf: idForm.last_name.$dirty -->
                                                        </div>
                                                    </div>
                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Country</label>
                                                        <div class="input-group">
                                                            <select id="job_country" class="form-control" required="" >
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Address</label>
                                                        <div class="input-group">
                                                            <div class="input-group">
                                                                <textarea type="text" id="off_address" class="form-control" required="required" maxlength="250"></textarea>

                                                            </div>
                                                            <!-- ngIf: idForm.dob.$dirty -->
                                                        </div>
                                                    </div>

                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">State</label>
                                                        <!--  -->
                                                        <div class="input-group" ng-init="customer.marital_status = 'single'">

                                                            <select class="form-control" id="off_state">
                                                            </select>

                                                            <!-- ngIf: idForm.marital_status.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="form-group col-sm-6 col-md-6">
                                                        <label class="form-control-label">Date of Employment</label>
                                                        <div class="input-group">
                                                            <input type="date" id="doe" class="form-control"/>
                                                            <!-- ngIf: idForm.user.$dirty -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab">
                                    <div class="panel push-down">
                                        <div class="panel-body">
                                            <div class="example-box-wrapper">
                                                <h3>Reference Information</h3> <hr>

                                                <div class="row">
                                                <div class="col-sm-6 col-md-6">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Reference Name</label>
                                                        <div class="input-group">
                                                            <input type="text" id="guarantor_name" class="form-control" placeholder="Enter Reference name">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Occupation</label>
                                                        <div class="input-group">
                                                            <input type="text" id="guarantor_occupation" class="form-control" placeholder="Enter Reference Occupation">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Relationship</label>
                                                        <div class="input-group">
                                                            <input type="text" id="relationship" class="form-control" placeholder="Enter relationship with client">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Years Known</label>
                                                        <div class="input-group">
                                                            <input type="text" id="years_known" class="form-control" placeholder="Choose Number of Years">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-6 col-md-6">
                                                    <div class="form-group">
                                                        <label class="form-control-label">Phone</label>
                                                        <div class="input-group">
                                                            <input type="number" id="guarantor_phone" class="form-control" placeholder="Enter Reference Phone Number">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Email</label>
                                                        <div class="input-group">
                                                            <input type="text" id="guarantor_email" class="form-control" placeholder="Enter Reference Email">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Address</label>
                                                        <div class="input-group">
                                                            <textarea type="text" id="guarantor_address" class="form-control" maxlength="250" placeholder="Enter Reference Address"></textarea>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="form-control-label">Country</label>
                                                        <div class="input-group">
                                                            <select id="gua_country" class="form-control" required="" >
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--<div class="tab">-->
                                    <!--<p><input placeholder="Username..." oninput="this.className = ''"></p>-->
                                    <!--<p><input placeholder="Password..." oninput="this.className = ''"></p>-->
                                <!--</div>-->

                                <div style="overflow:auto;">
                                    <div style="float:right;">
                                        <button class="btn btn-danger write" type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                                        <button class="btn btn-success write" type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                                    </div>
                                </div>

                                <!-- Circles which indicates the steps of the form: -->
                                <div style="text-align:center;margin-top:40px;">
                                    <span class="step"></span>
                                    <span class="step"></span>
                                    <span class="step"></span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>


        </div><!-- .animated -->
        <div id="wait" style=";width:150px;height:100px;position:fixed;top:50%;left:50%;padding:2px;z-index:99999;"><img src='spinner.gif' width="100" height="100" style="background-color: transparent"/></div>
    </div><!-- .content -->


</div><!-- /#right-panel -->

<!-- Right Panel -->

<script src="assets/js/vendor/jquery-2.1.4.min.js"></script>
<script src="assets/js/popper.min.js"></script>
<script src="assets/js/plugins.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/lib/chosen/chosen.jquery.min.js"></script>

<script>
    jQuery(document).ready(function() {
        getOfficers();
        getBranches();
        getCountries();
        getStates();
    });

    var currentTab = 0; // Current tab is set to be the first tab (0)
    showTab(currentTab); // Display the current tab

    function showTab(n) {
        // This function will display the specified tab of the form ...
        var x = document.getElementsByClassName("tab");
        x[n].style.display = "block";
        // ... and fix the Previous/Next buttons:
        if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
        } else {
            document.getElementById("prevBtn").style.display = "inline";
        }
        if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
        } else {
            document.getElementById("nextBtn").innerHTML = "Next";
        }
        // ... and run a function that displays the correct step indicator:
        fixStepIndicator(n)
    }

    function nextPrev(n) {
        // This function will figure out which tab to display
        var x = document.getElementsByClassName("tab");
        // Exit the function if any field in the current tab is invalid:
        if (!($('#loan_officer').find('option:selected').attr('id') === '0') && !($('#branch').find('option:selected').attr('id') === '0')){

            if(validateEmail($('#email').val())){
                if (n == 1 && !validateForm()){
                    swal('Empty Field(s)!', 'Fill all required fields', 'warning');
                    return false;
                }
            }else{
                swal('Please Enter a Valid Email', '', 'warning');
                return false;
            }

        }else{
            swal ({"icon": "warning", "text": "Choose a valid Loan Officer & Branch" });
            return false;
        }

        //return false;
//        if (n == 1) return false;
        // Hide the current tab:
        x[currentTab].style.display = "none";
        // Increase or decrease the current tab by 1:
        currentTab = currentTab + n;
        // if you have reached the end of the form... :
        if (currentTab >= x.length) {
            //...the form gets submitted:
//            document.getElementById("regForm").submit();
            createClient();
            return false;
        }
        // Otherwise, display the correct tab:
        showTab(currentTab);
    }

    function validateForm() {
        // This function deals with validation of the form fields
        var x, y, i, valid = true;
        x = document.getElementsByClassName("tab");
//        y = x[currentTab].getElementsByTagName("input");
        y = x[currentTab].getElementsByClassName("imp");
        // A loop that checks every input field in the current tab:
        for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
                // add an "invalid" class to the field:
                y[i].className += " invalid";
                // and set the current valid status to false:
                valid = false;
            }
        }
        // If the valid status is true, mark the step as finished and valid:
        if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
        }
        return valid; // return the valid status
    }

    function fixStepIndicator(n) {
        // This function removes the "active" class of all steps...
        var i, x = document.getElementsByClassName("step");
        for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
        }
        //... and adds the "active" class to the current step:
        x[n].className += " active";
    }

    $(document).ajaxStart(function(){
        $("#wait").css("display", "block");
    });

    $(document).ajaxComplete(function(){
        $("#wait").css("display", "none");
    });

    function check(){
        if (localStorage.getItem('role') !== 1){
            jQuery('#car-models').hide();
            jQuery('#new-user').hide();
            jQuery('#models-card').hide();
            jQuery('#user').html(localStorage.getItem("name"));
        }
        else{
            jQuery('#user').html(localStorage.getItem("name"));
        }
    }

    function loadMenus(){
        let modules = {};
        modules = JSON.parse(localStorage.getItem("modules"));
        modules.forEach(function(k, v){
            if (k.menu_name === 'Sub Menu'){
                let main = $.grep(modules, function(e){return e.id === parseInt(k.main_menu);});
                $('#'+$(main[0]['module_tag']).attr('id') + ' > .sub-menu').append(k.module_tag);
            }else if(k.menu_name === 'Main Menu'){
                $('#sidebar').append(k.module_tag);
                $('#'+$(k.module_tag).attr('id')).append('<ul class="sub-menu children dropdown-menu"></ul>');
            }else{
                $('#'+k.module_name).show();
            }
        });
        $.ajax({
            type: "GET",
            url: "/user/all-requests",
            success: function (response) {
                $.each(response, function(k,v){
                    $('#requests-badge').html(v.requests);
                });
            }
        });
        $.ajax({
            type: "GET",
            url: "/user/all-applications",
            success: function (response) {
                $.each(response, function(k,v){
                    $('#applications-badge').html(v.applications);
                });
            }
        });
    }

    function read_write(){
        let w;
        var perms = JSON.parse(localStorage.getItem("permissions"));
        var page = (window.location.pathname.split('/')[1].split('.'))[0];
        perms.forEach(function (k,v){
            if (k.module_name === page){
                w = $.grep(perms, function(e){return e.id === parseInt(k.id);});
            }
        });
        if (w && w[0] && (parseInt(w[0]['editable']) !== 1)){
            $(".write").hide();
        }
    }

    function validateEmail(email) {
        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    }

    function confirmPassword(){
        console.log("Here");
        console.log($('#cpassword').val());
        console.log($('#password').val());
        if ($('#cpassword').val() == "" || $('#cpassword').val() != $('#password').val()){
            $('#cpassword').css('border-color', 'red');
            $('#cpassword-error').html("Passwords don't match");
            $('#cpassword-error').css("color", 'red');
        }
        else{
            $('#cpassword').css('border-color', 'green');
            $('#cpassword-error').html("Passwords are a match!");
            $('#cpassword-error').css("color", 'green');
        }
    }

    function getOfficers(){
        $.ajax({
            type: "GET",
            url: "/user/users-list/",
            data: '{}',
            success: function (response) {
                var role = $("[id=loan_officer]");
                role.empty().append('<option selected="selected" id="0">-- Choose Loan Officer --</option>');
                $.each(JSON.parse(response), function (key, val) {
                    $("#loan_officer").append('<option value = "' + val.ID + '" id="' + val.ID + '">' + val.fullname + '</option>');
                });
            }
        });
    }

    function getBranches(){
        $.ajax({
            type: "GET",
            url: "/user/branches/",
            data: '{}',
            success: function (response) {
                var branch = $("[id=branch]");
                branch.empty().append('<option id="0">-- Select a Branch --</option>');
                $.each(JSON.parse(response), function (key, val) {
                    $("#branch").append('<option value = "' + val.id + '" id="' + val.id + '">' + val.branch_name + '</option>');
                });
            }
        });
    }

    function getCountries(){
        $.ajax({
            type: "GET",
            url: "/user/countries/",
            data: '{}',
            success: function (response) {
                var country = $("[id*=country]");
                country.empty().append('<option id="0">-- Select Country --</option>');
                $.each(JSON.parse(response), function (key, val) {
                    country.append('<option value = "' + val.id + '" id="' + val.id + '">' + val.country_name + '</option>');
                });
            }
        });
    }

    function getStates(){
        $.ajax({
            type: "GET",
            url: "/user/states/",
            data: '{}',
            success: function (response) {
                var state = $("[id*=state]");
                state.empty().append('<option id="0">-- Select State --</option>');
                $.each(JSON.parse(response), function (key, val) {
                    state.append('<option value = "' + val.id + '" id="' + val.id + '">' + val.state + '</option>');
                });
            }
        });
    }

    function createClient(){
        var obj = {};
        obj.username = $('#email').val();
        obj.fullname = $('#first_name').val() + ' '+ $('#middle_name').val() + ' ' +$('#last_name').val();
        obj.phone = $('#phone').val();
        obj.address = $('#address').val();
        obj.email = $('#email').val();
        obj.gender = $('#gender').find('option:selected').attr('value');
        obj.dob= $("#dob").val();
        obj.marital_status = $('#marital_status').find('option:selected').attr('value');
        obj.loan_officer = $('#loan_officer').find('option:selected').attr('id');
        obj.branch = $('#branch').find('option:selected').attr('id');
        obj.client_state = $('#client_state').find('option:selected').attr('id');
        obj.postcode = $("#postcode").val();
        obj.client_country = $('#client_country').find('option:selected').attr('id');
        obj.years_add = $("#years_add").val();
        obj.ownership = $('#ownership').find('option:selected').attr('id');
        obj.employer_name = $("#employer_name").val();
        obj.industry = $('#industry').find('option:selected').text();
        obj.job = $("#job").val();
        obj.job_country = $('#job_country').find('option:selected').attr('id');
        obj.off_address = $("#off_address").val();
        obj.off_state = $('#off_state').find('option:selected').attr('id');
        obj.doe = $("#doe").val();
        obj.guarantor_name = $("#guarantor_name").val();
        obj.guarantor_occupation = $("#doe").val();
        obj.relationship = $("#relationship").val();
        obj.years_known = $("#years_known").val();
        obj.guarantor_phone = $("#guarantor_phone").val();
        obj.guarantor_email = $("#guarantor_email").val();
        obj.guarantor_address = $("#guarantor_address").val();
        obj.gua_country = $('#gua_country').find('option:selected').attr('id');


        var test={};
        $.ajax({
            'url': '/user/new-client/',
            'type': 'post',
            'data': obj,
            'success': function (data) {
                $.each(JSON.parse(data), function (key, val) {
                    test[key] = val;
                });
                if(test.message){
                    var clients = [];
                    for (var i = 0; i < (test.response).length; i++){
                        clients += ', '+test.response[i]["fullname"];
                    }
                    swal({icon: 'info', text: "Information already exists for client(s)"+clients});
                    window.location.href = "./add-client";
                }
                else if(test.status == 500){
                    swal("Please recheck entered values");
                    window.location.href = "./add-client";
                }
                else{
                    swal("Client Information Registered!");
                    window.location.href = "./add-client";
                }
            }
        });

    }

    function upload(i){
        var name = $('#first_name').val() + ' '+ $('#middle_name').val() + ' ' +$('#last_name').val(); var folder_name = " ";
        if ($('#email').val() === "" || $('#email').val() === "null"){
            swal('Please Enter Client Email!');
        }
        else {
            folder_name = name + '_' + $('#email').val();
        }
        var file; var item;
        if (i === 1){
            file = $('#file-upload')[0].files[0];
            item ="Image";
        }else if (i === 2){
            file = $('#file-upload-signature')[0].files[0]
            item = "Signature";
        }else if (i === 3){
            file = $('#file-upload-idcard')[0].files[0]
            item = "ID Card";
        }
        console.log(name);
        if (file === "undefined") {
            swal ("Choose file to upload");
        }else{
            var formData = new FormData();
            formData.append('file', file); formData.append('type', i);
            $.ajax({
                url: "user/upload-file/"+folder_name+'/'+item,
                type: "POST",
                data: formData,
                processData: false,
                contentType: false,
                success: function(response) {
                    swal("File Uploaded Successfully!");
                },
                error: function() {
                    swal("Error! Please Try Again");
                }
            });
        }
    }

</script>

</body>
</html>
